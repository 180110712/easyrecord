# 简单记-2020软件工程项目设计文档

## 一 引言

### 1 背景

2020秋季学期软件工程项目要求完成一个包含一定功能的记账本APP，具体需求分析已经完成并体现在软件需求说明书上了，接下来要做的就是对软件进行设计与编码。

### 2 编写目的

本设计文档的编写目的是设计软件的体系结构，也就是确定软件由哪些模块组成以及各个模块之间的关系。

## 二 概述

### 1 目标

该阶段的目标在于明确系统的数据以及软件结构。文档将给出软件内部各部件以及系统外部之间的接口定义，各个软件模块的功能说明以及数据结构的细节等。

### 2 需求概述

（1）用户记录账目

（2）用户查看流水与统计

（3）用户查看图表分析

## 三 系统分析

### 1 层次体系结构设计

![软工层次结构图](https://github.com/LRCong/easyrecord/blob/master/photos/软工层次结构图.png)

### 2 功能模块划分

![软工模块划分](https://github.com/LRCong/easyrecord/blob/master/photos/软工模块划分.png)

### 3 接口定义

1. 用户接口
   1. 认证功能模块
      1. 开启文本密码并设置
      2. 开启手势密码并设置
      3. 开启指纹密码并设置
      4. 取消密码认证
   2. 记录账目功能模块
      1. 添加收入账目
      2. 添加支出账目
      3. 添加转账账目
      4. 增加自定义账户、类别、成员
   3. 查看流水及统计功能
      1. 查看账户流水
      2. 查看账户总体统计信息
   4. 查看图表分析功能模块
      1. 展示各种类别图表
      2. 点按图表不同部分可进入流水浏览
2. 内部接口
   1. 认证功能模块
      1. 将密码存入数据库
      2. 认证时调出密码
   2. 记录账目功能模块
      1. 将账目所有信息存入对于数据库表中
      2. 将新添加自定义项存入数据库中
   3. 查看流水及统计功能
      1. 按各种不同约束将账目数据从数据库表中取出
   4. 查看图表分析功能模块（同上）

## 四 数据流

### 1 顶层数据流

![账单表](https://github.com/LRCong/easyrecord/blob/master/photos/数据流图1-顶层数据流.PNG)

### 2 一层数据流

![账单表](https://github.com/LRCong/easyrecord/blob/master/photos/数据流图2-一层数据流.PNG)

## 五 数据库设计

用户的需求具体体现在各种信息的提供、保存、更新和查询，这就要求数据库结构能充分满足各种信息的输出和输入，收集基本数据、数据结构处理的流程，组成一份详尽的数据字典，为后面的具体设计打下基础。
    
记账APP数据库中各个表的设计结果如下面几个表格所示，每个表格表示为数据库中的一个表。

### （1）账单表（BillRecord）
    账单信息包括账单id，金额，一级类型，二级类型，类型，账户，成员，创建的时间戳等信息，在系统中此表使用较为频繁，在各种有关音乐的操作中都需要用到，具体表的结构如下。
![账单表](https://github.com/180110712/easyrecord/blob/master/photos/账单表.PNG)
            
### （2）类别表（initialCategory）
    类别表包括id，一级类型，二级类型，类型，序列号等信息。从json文件读入进行初始化。具体表的结构如下。
![类别表](https://github.com/180110712/easyrecord/blob/master/photos/类别表.PNG)       
            
### 数据库可进行的操作：
#### 插入
    插入一个账单
#### 删除
    删除一个账单
#### 更新
    根据id更新一个账单
#### 查找
    获取某个成员某个时间段内账单 
    获取某个账户某个时间段内账单
    获取某个成员全部账单
    获取某个账户全部账单


