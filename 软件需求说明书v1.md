# 软件需求说明书

### 版本
| 序号 | 变更人员                             | 变更内容详细描述 | 变更后版本号 |
| ---- | ------------------------------------ | ---------------- | ------------ |
| 1    | 李荣聪、覃琛焯、王锦成、刘航、王海涛 | initial commit   | v1.0         |

### 贡献

| 人员   | 学号      | 贡献内容       |
| ------ | --------- | -------------- |
| 王锦成 | 180310308 | 引言、软件原型 |
| 刘航   | 180110712 | 软件一致性描述 |
| 王海涛 | 180110724 | 功能需求描述   |
| 覃琛焯 | 180110623 | 功能需求描述   |
| 李荣聪 | 180110617 | 其他需求描述   |

## 1. 引言

## 2. 软件一致性描述

### 2.1软件产品与其外部环境之间的关系

#### 2.1.1外部的用户

![Image text](https://github.com/180110712/easyrecord/blob/master/photos/photo1.png) 

#### 2.1.2外部的系统

![Image text](https://github.com/180110712/easyrecord/blob/master/photos/prhoto2.png)

### 2.2约束条件

#### 2.2.1 硬件的限制

+ 客户端:支持android7.0及以上的所有客户端

#### 2.2.2与其他应用的接口

+ 数据库的接口：与数据库采用TCP协议进行通讯

#### 2.2.3编程语言

+ 客户端语言
  + Dart语言
+ 数据库语言
  + Sql

#### 2.2.4运行环境

+ android手机，或者支持android的模拟器
+ 支持Android7.0（API等级24）及以上

### 2.3假设与前提条件

#### 2.3.1影响需求的假设因素

+ 操作和开发环境：
  + 1.操作环境：
    + 客户端： Android Studio 4.0 Flutter 
    + 数据库：MySQL
  + 2.开发环境：
    + Windows Linux

#### 2.3.2 对外部的前提

+ 1.用户能够拥有访问网关IP地址的权限
+ 2.客户端能访问数据库IP地址的权限

## 3. 功能需求描述

### 3.1 系统的划分

### 3.2 用户系统

#### 3.2.1 用户系统的用例图
![用户系统用例图](https://github.com/ouyang-willen/easyrecord/tree/master/photos/3.1_case.jpg.jpg)
#### 3.2.1 用户系统的用例描述

**创建用户账户**
1. 目标：
本用例允许用户创建账户
2. 事件流：
	1. 常规流程
当用户希望创建新的账户时，系统准备收集用户的用户名和密码信息时，本用例开始执行。
		1. 系统要求用户输入用户名。
		2. 系统检测用户名是否重名，若重名则提示错误信息。
		3. 系统要求用户输入密码。
		4. 系统检测密码是否合乎要求，若不符合则提示错误信息。
		2. 系统确认用户名不重复，密码符合要求后，新增用户账户。
	2. 扩展流程
		1. 若用户输入用户名与已有账户用户名重名，则提示用户名重名。
		2. 若用户输入密码不合乎要求，则提示用户密码不符合要求。

3. 前置条件：无
4. 后置条件：如果用例执行成功，新增用户账户，否则，系统状态不变。

**登录用户账号**
1. 目标：
本用例允许用户登录记账系统。
2. 事件流：
	1. 常规流程
当用户希望登录自己的记账系统时，系统准备收集用户的用户名和密码信息时，本用例开始执行  。
		1. 系统要求用户选择登陆方式，有文本密码和图形密码两种选项。
			1. 若用户选择文本密码则：
				1. 系统要求用户输入用户名。
				2. 系统要求用户输入密码。
				3. 系统检查是否存在该用户名，若不存在，则提示该用户名不存在。
				4. 系统检查用户名与密码是否匹配，若不匹配，则提示密码错误。
			
			1. 若用户选择图形密码则：
				1. 系统要求用户输入用户名。
				1. 系统要求用户输入图形密码。
				2. 系统检查是否存在该用户名，若不存在，则提示该用户名不存在。
				2. 用户检测图形密码是否正确，若不正确，则提示密码错误。
		2. 系统确认用户名，密码匹配后，更新当前用户，显示用户界面
	2. 扩展流程
		1. 若用户输入用户名不存在，提示用户名不存在
		2. 若用户输入密码与用户名不匹配，提示密码错误

3. 前置条件：无
4. 后置条件：如果用例执行成功，更新当前用户信息，否则，系统状态不变。



### 3.3 流水系统

#### 3.2.1 流水系统的用例图
![用户系统用例图](https://github.com/ouyang-willen/easyrecord/tree/master/photos/3.2_case.jpg.jpg)
#### 3.2.2 流水系统的用例描述

**收支记账**
1. 目标：
本用例允许系统登记用户的收支记账信息
2. 事件流：
	1. 常规流程
当用户希望记录收支信息时、系统准备登记有关的收支信息时，本用例开始执行。  
		1. 系统要求用户选择记账所属账户
		2. 系统要求用户选择记账类型，分为收入、支出、转账等
		3. 系统要求用户输入金额，收支名称
		3. 系统要求用户选择收入的一级，二级分类
		4. 用户可以选择填入当前时间
		5. 用户可以选择记录成员
		4. 用户确认输入完毕信息后，系统确认信息是否完整，如账户，记账类型，金额，名称等必须选择或输入，分类有默认分类，时间默认为填写时的时间
		5. 系统确认后无误后，增加一个新的收支记录
	2. 扩展流程
		1. 用户输入信息不完整：在主流程中，如果用户输入信息不完整，如缺少金额，缺少名称等必填信息，系统将显示错误信息，用例结束。
		2. 用户可建立/修改账户：在主流程中，用户选择所属账户时，可以新增账户，或修改/删除已有的账户 
		2. 用户可以自定义一级，二级分类：在主流程中，在用户选择一级，二级分类时，用户可以添加新的分类，或修改/删除已有的分类

3. 前置条件：用例开始前，用户必须登录成功；
4. 后置条件：如果用例执行成功，该用户的收支记账记录被更新，否则，系统状态不变。


**修改记录**
1. 目标：
本用例允许系统登记用户修改的记账内容
2. 事件流：
	1. 常规流程
当用户希望修改记账内容时，系统准备登记有关的修改信息时，本用例开始执行
		1. 系统要求用户选择需要修改的记账信息
		2. 用户选择后，修改该记账信息。可以更改该记录的所属账户，几张类型，一级，二级分类，金额，名称，时间，成员等
		3. 用户确认提交后，系统确认修改后信息是否完整。
		4. 系统确认完整后，修改旧的记录为新的记录
	2. 扩展流程：
		1. 用户输入信息不完整：在主流程中，如果用户输入信息不完整，如缺少金额，缺少名称等必填信息，系统将显示错误信息，不修改记录，本用例结束。
		2.  用户可建立/修改账户：在主流程中，用户选择所属账户时，可以新增账户，或修改/删除已有的账户 
		2. 用户可以自定义一级，二级分类：在主流程中，在用户选择一级，二级分类时，用户可以添加新的分类，或修改/删除已有的分类
3. 前置条件：用例开始前，用户必须登录成功。
4. 后置条件：如果用例执行成功，该用户的记录被更新，否则，系统状态不变。


## 4. 其他需求描述

### 4.1 性能要求

#### 4.1.1 响应性能

该软件为非实时性能软件，无硬实时、软实时响应要求。只要软件能够在不影响用户体验的延时内响应即可。

#### 4.1.2 运行效率

该软件服务只运行在本地客户端，所有的存储、计算统计和图表构建都在本地客户端完成。

### 4.2 设计约束

#### 4.2.1 开发工具

甲方对于开发工具无要求，主要考虑是否主流和入门难度，以便上手开发和后期维护。暂定项目构建于Flutter平台，由Visual Studio Code和Android Studio创建，开发。

#### 4.2.2 运行环境

客户端运行在IOS或者Android系统中，Android版本至少为4.0，建议为9.0+，IOS建议为10.0+。

#### 4.2.3 安全性

通讯安全：本软件不提供数据传输服务。认证安全：保证用户在系统认证上的安全。数据安全：保证用户密码、账目数据等信息在本地客户端数据库中的完整性以及存储安全。

#### 4.2.4 可靠性

##### 客户端

+ 对于客户端异常，客户端会出现对于的报错代码，用户可以把相应报错反馈给运营维护人员。

### 4.3 界面要求

#### 4.3.1 界面设计导向

+ 统一：全部页面、动画效果采用Flutter平台的MAterial Design风格。
+ 简洁：排除所有冗余设计，保持干净直观。
+ 美观：在风格保持统一和简洁的前提下，采用美观的设计。

#### 4.3.2 界面设计原则

+ 简单直观：所有功能在两步操作之内能够达到。
+ 高内聚低耦合：统一相近功能的入口，减少各个独立功能页面之间的参差交叉。
+ 整齐：对界面各个组件进行整齐合适的摆放，不过度追求视觉效果。

### 4.4 进度要求

| 时间        | 事项                                                         |
| ----------- | ------------------------------------------------------------ |
| 9.7~9.22    | 学习上手Flutter平台。                                        |
| 9.22~9.29   | 完成包括主页、底部导航、侧边栏以及数据库管理器在内整体框架的的设计以及编码。 |
| 9.30~10.7   | 完成记账、查看流水以及图表功能。                             |
| 10.8~10.14  | 完成密码验证、手势验证、指纹验证、账户切换和数据备份功能。   |
| 10.15~10.22 | 优化界面和交互逻辑，进行功能测试                             |
| 10.23~10.29 | 完善文档、重构代码优化质量                                   |

### 4.5 交付要求

+ 源代码：通过GitHub代码仓库进行交付
+ 可执行文件：项目打包为apk文件，可以运行在4.0+版本的Android系统上。

### 4.6 验收要求

+ 基础功能
  + 记账：用户可以选择不同的账户，以及不同的类型和子类型，记录收入或者支出项目。
  + 查账：用户可以查看指定时间、指定类别、指定成员的账目统计以及流水数据。
  + 图表分析：用户可以以图表形式直观查看账目的统计数据。
  + 系统验证：用户户可以选择密码、指纹以及手势验证登入功能，在错误时会提出错误提示。
  + 数据备份：用户可以备份自己的账户数据。
+ 拓展功能：
  + 暂无

## 5. 软件原型